(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["427172d9"],{"0268":function(t,e,i){
/*! mobile-drag-drop 2.3.0-rc.0 | Copyright (c) 2018 Tim Ruffles | MIT License */
!function(t,i){i(e)}(0,function(t){"use strict";var e="dnd-poly-",i=e+"snapback",n=["none","copy","copyLink","copyMove","link","linkMove","move","all"],s=["none","copy","move","link"],r=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch(t){}return t}();function a(t){return t&&t.tagName}function o(t,e,i){void 0===i&&(i=!0),document.addEventListener(t,e,!!r&&{passive:i})}function h(t,e){document.removeEventListener(t,e)}function d(t,e,i,n){void 0===n&&(n=!1);var s=r?{passive:!0,capture:n}:n;return t.addEventListener(e,i,s),{off:function(){t.removeEventListener(e,i,s)}}}function c(t){return 0===t.length?0:t.reduce(function(t,e){return e+t},0)/t.length}function l(t,e){for(var i=0;i<t.changedTouches.length;i++)if(t.changedTouches[i].identifier===e)return!0;return!1}function u(t,e,i){for(var n=[],s=[],r=0;r<e.touches.length;r++){var a=e.touches[r];n.push(a[t+"X"]),s.push(a[t+"Y"])}i.x=c(n),i.y=c(s)}var f=["","-webkit-"];function g(t,e,i,n,s){void 0===s&&(s=!0);var r=e.x,a=e.y;n&&(r+=n.x,a+=n.y),s&&(r-=parseInt(t.offsetWidth,10)/2,a-=parseInt(t.offsetHeight,10)/2);for(var o="translate3d("+r+"px,"+a+"px, 0)",h=0;h<f.length;h++){var d=f[h]+"transform";t.style[d]=o+" "+i[h]}}var p=function(){function t(t,e){this.t=t,this.i=e,this.s=s[0]}return Object.defineProperty(t.prototype,"dropEffect",{get:function(){return this.s},set:function(t){0!==this.t.mode&&n.indexOf(t)>-1&&(this.s=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"types",{get:function(){if(0!==this.t.mode)return Object.freeze(this.t.types)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"effectAllowed",{get:function(){return this.t.effectAllowed},set:function(t){2===this.t.mode&&n.indexOf(t)>-1&&(this.t.effectAllowed=t)},enumerable:!0,configurable:!0}),t.prototype.setData=function(t,e){if(2===this.t.mode){if(t.indexOf(" ")>-1)throw new Error("illegal arg: type contains space");this.t.data[t]=e,-1===this.t.types.indexOf(t)&&this.t.types.push(t)}},t.prototype.getData=function(t){if(1===this.t.mode||2===this.t.mode)return this.t.data[t]||""},t.prototype.clearData=function(t){if(2===this.t.mode){if(t&&this.t.data[t]){delete this.t.data[t];var e=this.t.types.indexOf(t);return void(e>-1&&this.t.types.splice(e,1))}this.t.data={},this.t.types=[]}},t.prototype.setDragImage=function(t,e,i){2===this.t.mode&&this.i(t,e,i)},t}();function v(t,e){return t?t===n[0]?s[0]:0===t.indexOf(n[1])||t===n[7]?s[1]:0===t.indexOf(n[4])?s[3]:t===n[6]?s[2]:s[1]:3===e.nodeType&&"A"===e.tagName?s[3]:s[1]}function m(t,e,i,n,s,r,a){void 0===r&&(r=!0),void 0===a&&(a=null);var o=function(t,e,i,n,s,r,a){void 0===a&&(a=null);var o=e.changedTouches[0],h=new Event(i,{bubbles:!0,cancelable:n});h.dataTransfer=r,h.relatedTarget=a,h.screenX=o.screenX,h.screenY=o.screenY,h.clientX=o.clientX,h.clientY=o.clientY,h.pageX=o.pageX,h.pageY=o.pageY;var d=t.getBoundingClientRect();return h.offsetX=h.clientX-d.left,h.offsetY=h.clientY-d.top,h}(e,i,t,r,document.defaultView,s,a),h=!e.dispatchEvent(o);return n.mode=0,h}function y(t,e){if(!t||t===n[7])return e;if(e===s[1]){if(0===t.indexOf(s[1]))return s[1]}else if(e===s[3]){if(0===t.indexOf(s[3])||t.indexOf("Link")>-1)return s[3]}else if(e===s[2]&&(0===t.indexOf(s[2])||t.indexOf("Move")>-1))return s[2];return s[0]}var b,x=function(){function t(t,e,i,n){this.h=t,this.o=e,this.u=i,this.l=n,this.v=0,this.p=null,this.g=null,this.m=t,this.I=t.changedTouches[0],this.j=this.S.bind(this),this.k=this.A.bind(this),o("touchmove",this.j,!1),o("touchend",this.k,!1),o("touchcancel",this.k,!1)}return t.prototype.O=function(){var t=this;this.v=1,this.C=s[0],this.D={data:{},effectAllowed:void 0,mode:3,types:[]},this.M={x:null,y:null},this.F={x:null,y:null};var e=this.u;if(this.N=new p(this.D,function(i,n,s){e=i,"number"!=typeof n&&"number"!=typeof s||(t.P={x:n||0,y:s||0})}),this.D.mode=2,this.N.dropEffect=s[0],m("dragstart",this.u,this.m,this.D,this.N))return this.v=3,this.T(),!1;u("page",this.m,this.F);var i,n=this.o.dragImageSetup(e);if(this.L=(i=n,f.map(function(t){var e=i.style[t+"transform"];return e&&"none"!==e?e.replace(/translate\(\D*\d+[^,]*,\D*\d+[^,]*\)\s*/g,""):""})),n.style.position="absolute",n.style.left="0px",n.style.top="0px",n.style.zIndex="999999",n.classList.add("dnd-poly-drag-image"),n.classList.add("dnd-poly-icon"),this._=n,!this.P)if(this.o.dragImageOffset)this.P={x:this.o.dragImageOffset.x,y:this.o.dragImageOffset.y};else if(this.o.dragImageCenterOnTouch){var r=getComputedStyle(e);this.P={x:0-parseInt(r.marginLeft,10),y:0-parseInt(r.marginTop,10)}}else{var a=e.getBoundingClientRect();r=getComputedStyle(e),this.P={x:a.left-this.I.clientX-parseInt(r.marginLeft,10)+a.width/2,y:a.top-this.I.clientY-parseInt(r.marginTop,10)+a.height/2}}return g(this._,this.F,this.L,this.P,this.o.dragImageCenterOnTouch),document.body.appendChild(this._),this.V=window.setInterval(function(){t.X||(t.X=!0,t.Y(),t.X=!1)},this.o.iterationInterval),!0},t.prototype.T=function(){this.V&&(clearInterval(this.V),this.V=null),h("touchmove",this.j),h("touchend",this.k),h("touchcancel",this.k),this._&&(this._.parentNode.removeChild(this._),this._=null),this.l(this.o,this.m,this.v)},t.prototype.S=function(t){var e=this;if(!1!==l(t,this.I.identifier)){if(this.m=t,0===this.v){var i=void 0;if(this.o.dragStartConditionOverride)try{i=this.o.dragStartConditionOverride(t)}catch(t){i=!1}else i=1===t.touches.length;return i?void(!0===this.O()&&(this.h.preventDefault(),t.preventDefault())):void this.T()}if(t.preventDefault(),u("client",t,this.M),u("page",t,this.F),this.o.dragImageTranslateOverride)try{var n=!1;if(this.o.dragImageTranslateOverride(t,{x:this.M.x,y:this.M.y},this.p,function(t,i){e._&&(n=!0,e.M.x+=t,e.M.y+=i,e.F.x+=t,e.F.y+=i,g(e._,e.F,e.L,e.P,e.o.dragImageCenterOnTouch))}),n)return}catch(t){}g(this._,this.F,this.L,this.P,this.o.dragImageCenterOnTouch)}},t.prototype.A=function(t){if(!1!==l(t,this.I.identifier)){if(this.o.dragImageTranslateOverride)try{this.o.dragImageTranslateOverride(void 0,void 0,void 0,function(){})}catch(t){}0!==this.v?(t.preventDefault(),this.v="touchcancel"===t.type?3:2):this.T()}},t.prototype.Y=function(){var t=this,n=this.C;this.D.mode=3,this.N.dropEffect=s[0];var r=m("drag",this.u,this.m,this.D,this.N);if(r&&(this.C=s[0]),r||2===this.v||3===this.v)return this.q(this.v)?void function(t,e,n,s){var r=getComputedStyle(t);if("hidden"!==r.visibility&&"none"!==r.display){e.classList.add(i);var a=getComputedStyle(e),o=parseFloat(a.transitionDuration);if(isNaN(o)||0===o)s();else{var h=t.getBoundingClientRect(),d={x:h.left,y:h.top};d.x+=document.body.scrollLeft||document.documentElement.scrollLeft,d.y+=document.body.scrollTop||document.documentElement.scrollTop,d.x-=parseInt(r.marginLeft,10),d.y-=parseInt(r.marginTop,10);var c=parseFloat(a.transitionDelay),l=Math.round(1e3*(o+c));g(e,d,n,void 0,!1),setTimeout(s,l)}}else s()}(this.u,this._,this.L,function(){t.B()}):void this.B();var o=this.o.elementFromPoint(this.M.x,this.M.y),h=this.g;o!==this.p&&o!==this.g&&(this.p=o,null!==this.g&&(this.D.mode=3,this.N.dropEffect=s[0],m("dragexit",this.g,this.m,this.D,this.N,!1)),null===this.p?this.g=this.p:(this.D.mode=3,this.N.dropEffect=v(this.D.effectAllowed,this.u),m("dragenter",this.p,this.m,this.D,this.N)?(this.g=this.p,this.C=y(this.N.effectAllowed,this.N.dropEffect)):this.p!==document.body&&(this.g=document.body))),h!==this.g&&a(h)&&(this.D.mode=3,this.N.dropEffect=s[0],m("dragleave",h,this.m,this.D,this.N,!1,this.g)),a(this.g)&&(this.D.mode=3,this.N.dropEffect=v(this.D.effectAllowed,this.u),!1===m("dragover",this.g,this.m,this.D,this.N)?this.C=s[0]:this.C=y(this.N.effectAllowed,this.N.dropEffect)),n!==this.C&&this._.classList.remove(e+n);var d=e+this.C;this._.classList.add(d)},t.prototype.q=function(t){var e=this.C===s[0]||null===this.g||3===t;return e?a(this.g)&&(this.D.mode=3,this.N.dropEffect=s[0],m("dragleave",this.g,this.m,this.D,this.N,!1)):a(this.g)&&(this.D.mode=1,this.N.dropEffect=this.C,!0===m("drop",this.g,this.m,this.D,this.N)?this.C=this.N.dropEffect:this.C=s[0]),e},t.prototype.B=function(){this.D.mode=3,this.N.dropEffect=this.C,m("dragend",this.u,this.m,this.D,this.N,!1),this.v=2,this.T()},t}(),D={iterationInterval:150,tryFindDraggableTarget:function(t){var e=t.target;do{if(!1!==e.draggable&&e.getAttribute&&"true"===e.getAttribute("draggable"))return e}while((e=e.parentNode)&&e!==document.body)},dragImageSetup:function(t){var e=t.cloneNode(!0);return function t(e,i){if(1===e.nodeType){for(var n=getComputedStyle(e),s=0;s<n.length;s++){var r=n[s];i.style.setProperty(r,n.getPropertyValue(r),n.getPropertyPriority(r))}if(i.style.pointerEvents="none",i.removeAttribute("id"),i.removeAttribute("class"),i.removeAttribute("draggable"),"CANVAS"===i.nodeName){var a=e,o=i,h=a.getContext("2d").getImageData(0,0,a.width,a.height);o.getContext("2d").putImageData(h,0,0)}}if(e.hasChildNodes())for(s=0;s<e.childNodes.length;s++)t(e.childNodes[s],i.childNodes[s])}(t,e),e},elementFromPoint:function(t,e){return document.elementFromPoint(t,e)}};function w(t){if(!b){var e=D.tryFindDraggableTarget(t);if(e)try{b=new x(t,D,e,T)}catch(e){throw T(D,t,3),e}}}function I(t){var e=t.target,i=function(t){s.off(),r.off(),a.off(),clearTimeout(n)},n=window.setTimeout(function(){s.off(),r.off(),a.off(),w(t)},D.holdToDrag),s=d(e,"touchend",i),r=d(e,"touchcancel",i),a=d(window,"scroll",i,!0)}function T(t,e,i){if(0===i&&t.defaultActionOverride)try{t.defaultActionOverride(e),e.defaultPrevented}catch(t){}b=null}t.polyfill=function(t){if(t&&Object.keys(t).forEach(function(e){D[e]=t[e]}),!D.forceApply){var e=(i={dragEvents:"ondragstart"in document.documentElement,draggable:"draggable"in document.documentElement,userAgentSupportingNativeDnD:void 0},n=!!window.chrome||/chrome/i.test(navigator.userAgent),i.userAgentSupportingNativeDnD=!(/iPad|iPhone|iPod|Android/.test(navigator.userAgent)||n&&"ontouchstart"in document.documentElement),i);if(e.userAgentSupportingNativeDnD&&e.draggable&&e.dragEvents)return!1}var i,n;return D.holdToDrag?o("touchstart",I,!1):o("touchstart",w,!1),!0},Object.defineProperty(t,"__esModule",{value:!0})})},e669:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-page",{staticStyle:{display:"flex","background-color":"#444"}},[i("div",{staticStyle:{flex:"1",display:"flex","flex-direction":"column"}},[i("div",{staticStyle:{flex:"0 0"}},[i("q-tabs",{staticClass:"text-white",attrs:{align:"left","indicator-color":"transparent",swipeable:""},model:{value:t.selectedTab,callback:function(e){t.selectedTab=e},expression:"selectedTab"}},[t._l(t.tabs,function(e,n){return[i("q-tab",{key:n,style:{background:e.tabColor},attrs:{count:t.countItems(n),name:"tab-"+n,label:e.name,icon:"message"},on:{select:function(e){return t.selectTab(n)}}})]})],2)],1),i("q-tab-panels",{staticStyle:{flex:"1"},model:{value:t.selectedTab,callback:function(e){t.selectedTab=e},expression:"selectedTab"}},t._l(t.tabs,function(e,n){return i("q-tab-panel",{key:"tab-"+n,style:{background:e.tabColor},attrs:{name:"tab-"+n}},[i("q-scroll-area",{staticStyle:{height:"100%"}},[i("div",{staticClass:"q-pa-md row items-start q-gutter-md"},[t._l(e.images,function(e,s){return[!1===e.hidden?i("q-card",{key:t.selectedTabIndex+"-"+s,staticClass:"q-ma-sm bg-white",staticStyle:{width:"150px"},attrs:{draggable:!e.unavailable,disabled:!!e.unavailable},nativeOn:{dragstart:function(e){return t.drag(n,s,e)}}},[i("q-img",{staticStyle:{height:"150px",padding:"2px","user-drag":"none"},attrs:{contain:"",src:e.url}},[e.unavailable?[i("div",{staticStyle:{position:"absolute",top:"5%",left:"5%",display:"inline-block",width:"90%",height:"90%",background:"red","border-radius":"100%"}})]:t._e()],2),i("q-card-section",[t._v("\n                    "+t._s(e.name)+"\n                ")])],1):t._e()]})],2)])],1)}),1),i("div",{staticStyle:{flex:"0 220px"}},[i("div",{class:{"bg-secondary":t.isDraggingOver,"bg-dark":!t.isDraggingOver},staticStyle:{height:"100%"},on:{drop:function(e){return t.drop(e)},dragover:function(e){return t.dragOver(e)},dragleave:function(e){return t.dragLeave(e)}}},[i("div",{staticStyle:{position:"absolute",right:"0",display:"inline-block",width:"100px",padding:"0px"}},[i("q-btn",{staticClass:"row q-ma-sm bg-white float-right",attrs:{round:"",icon:"play_arrow",size:"24px"},on:{click:function(e){return t.play()}}}),i("q-btn",{staticClass:"row q-ma-sm bg-white float-right",attrs:{round:"",icon:"delete",size:"24px"},on:{click:function(e){return t.clear()}}})],1),i("div",{staticClass:"q-pa-md row"},[t._l(t.phrase,function(e,n){return[i("q-card",{key:n,staticClass:"q-ma-sm bg-white",staticStyle:{width:"150px"},style:e.style,attrs:{draggable:""},nativeOn:{dragstart:function(e){return t.drag(n,e)}}},[i("q-img",{staticStyle:{height:"150px",padding:"2px","user-drag":"none"},attrs:{contain:"",src:e.url}}),i("q-card-section",[t._v("\n                    "+t._s(e.name)+"\n                ")])],1)]})],2)])])],1)])},s=[],r=(i("7f7f"),i("0268"));Object(r["polyfill"])({});var a={name:"Tabs",data:function(){return{isDraggingOver:!1,draggingTabIndex:0,draggingImageIndex:0,selectedTabIndex:0}},computed:{tabs:function(){return this.$store.state.mavoix.tabs},phrase:function(){return this.$store.state.mavoix.phrase},selectedTab:{get:function(){return this.$store.state.mavoix.selectedTab},set:function(t){this.$store.commit("mavoix/updateSelectedTab",t)}}},mounted:function(){var t=this;this.$axios.get("https://mavoix-connect.herokuapp.com/users?name=Luz").then(function(e){var i=e.data[0];t.name=i.name,t.language=i.language})},methods:{countItems:function(t){return this.tabs[t].images.length},drag:function(t,e,i){this.draggingTabIndex=t,this.draggingImageIndex=e},dragOver:function(t){t.preventDefault(),this.isDraggingOver=!0},dragLeave:function(t){t.preventDefault(),this.isDraggingOver=!1},drop:function(t){t.preventDefault();var e=this.draggingTabIndex,i=this.draggingImageIndex,n=this.tabs[e].images[i];n.origin={tabIndex:e,imageIndex:i},n.style="transform: scale(1)",this.phrase.push(n),this.tabs[e].images.splice(i,1),this.isDraggingOver=!1},play:function(){var t=this.$store.state.mavoix.selectedVoice,e=this.phrase,i=this.$store.state.mavoix.voices.filter(function(e){return e.name===t})[0],n=function t(n){var s=e[n];s.style="transform: scale(1.1)",e.splice(n,1,s);var r=new SpeechSynthesisUtterance(e[n].name);r.voice=i,window.speechSynthesis.speak(r),n++,setTimeout(function(){var i=e[n-1];i.style="transform: scale(1)",e.splice(n-1,1,i),n<e.length&&t(n)},500)};n(0)},clear:function(){for(var t=this.phrase.length-1;t>=0;t--){var e=this.phrase[t].origin,i=e.tabIndex,n=e.imageIndex;delete this.phrase[t].origin,this.tabs[i].images.splice(n,0,this.phrase[t])}this.phrase.length=0},selectTab:function(t){this.selectedTabIndex=t}}},o=a,h=i("2877"),d=Object(h["a"])(o,n,s,!1,null,null,null);e["default"]=d.exports}}]);